{% load static %}
<!DOCTYPE HTML>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>GreatKart | Search Results</title>

<link rel="shortcut icon" href="{% static 'images/favicon.ico' %}" type="image/x-icon">

<!-- jQuery -->
<script src="{% static 'js/jquery-2.0.0.min.js' %}"></script>

<!-- Bootstrap -->
<link href="{% static 'css/bootstrap.css' %}" rel="stylesheet">
<script src="{% static 'js/bootstrap.bundle.min.js' %}"></script>

<!-- Font Awesome -->
<link href="{% static 'fonts/fontawesome/css/all.min.css' %}" rel="stylesheet">

<!-- Custom CSS & JS -->
<link href="{% static 'css/ui.css' %}" rel="stylesheet">
<link href="{% static 'css/responsive.css' %}" rel="stylesheet">
<script src="{% static 'js/script.js' %}"></script>
</head>
<body>

<header class="section-header">
    <a href="./"><img class="logo" src="{% static 'images/logo.png' %}"></a>
</header>

<section class="section-pagetop bg">
<div class="container">
    <h2 class="title-page">Search Result</h2>
</div>
</section>

<section class="section-content padding-y">
<div class="container">
<div class="row">
    <aside class="col-md-3">
        <!-- Sidebar filters -->
    </aside>
    <main class="col-md-9">
        <header class="border-bottom mb-4 pb-3">
            <div class="form-inline">
                <span class="mr-md-auto">{{ products|length }} Items found</span>
            </div>
        </header>

        <div class="row">
            {% for product in products %}
            <div class="col-md-4">
                <figure class="card card-product-grid">
                    <div class="img-wrap">
                        <img src="{{ product.image.url }}">
                    </div>
                    <figcaption class="info-wrap">
                        <div class="fix-height">
                            <a href="{% url 'product_detail' product.id %}" class="title">{{ product.name }}</a>
                            <div class="price-wrap mt-2">
                                <span class="price">${{ product.price }}</span>
                                {% if product.old_price %}
                                <del class="price-old">${{ product.old_price }}</del>
                                {% endif %}
                            </div>
                        </div>
                        <a href="{% url 'add_to_cart' product.id %}" class="btn btn-block btn-primary">Add to cart</a>
                    </figcaption>
                </figure>
            </div>
            {% endfor %}
        </div>

        <!-- Pagination -->
        <nav class="mt-4" aria-label="Page navigation">
          <ul class="pagination">
            {% if page_obj.has_previous %}
            <li class="page-item"><a class="page-link" href="?page={{ page_obj.previous_page_number }}">Previous</a></li>
            {% else %}
            <li class="page-item disabled"><a class="page-link">Previous</a></li>
            {% endif %}
            {% for num in page_obj.paginator.page_range %}
            <li class="page-item {% if page_obj.number == num %}active{% endif %}">
                <a class="page-link" href="?page={{ num }}">{{ num }}</a>
            </li>
            {% endfor %}
            {% if page_obj.has_next %}
            <li class="page-item"><a class="page-link" href="?page={{ page_obj.next_page_number }}">Next</a></li>
            {% else %}
            <li class="page-item disabled"><a class="page-link">Next</a></li>
            {% endif %}
          </ul>
        </nav>

    </main>
</div>
</div>
</section>

<footer class="section-footer border-top padding-y">
<div class="container">
    <p class="float-md-right">&copy; 2019 All rights reserved</p>
    <p><a href="#">Terms and conditions</a></p>
</div>
</footer>

</body>
</html>
